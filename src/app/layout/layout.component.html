@if (showSidebar) {
  <div class="min-h-screen bg-gray-50 flex">
  <app-sidebar 
    [isOpen]="sidebarOpen" 
    (toggle)="toggleSidebar()" />
  
  @if (sidebarOpen) {
  <div
    class="fixed inset-0 bg-black/50 z-30 lg:hidden"
    (click)="toggleSidebar()"
  ></div>
  }

  <div class="flex-1 flex flex-col min-h-screen transition-all duration-300 mt-14"
       [class.lg:ml-64]="sidebarOpen"
       [class.lg:ml-20]="!sidebarOpen">

    <app-header
      [sidebarOpen]="sidebarOpen"
      (toggleSidebar)="toggleSidebar()"
      (logout)="onLogout()" />

    <main class="flex-1 p-4 md:p-6 lg:p-8 overflow-x-hidden">
      <router-outlet></router-outlet>
    </main>
  </div>
  
  <app-chatbot></app-chatbot>
</div>
}