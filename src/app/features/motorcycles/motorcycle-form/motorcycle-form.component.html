<div class="min-h-screen bg-gray-50 py-8">
  <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">

    <!-- Header -->
    <div class="mb-8">
      <div class="flex items-center gap-4 mb-4">
        <a routerLink="/motorcycles" class="text-gray-600 hover:text-gray-900 p-2 hover:bg-gray-100 rounded-lg">
          ←
        </a>
        <div>
          <h1 class="text-3xl font-bold text-gray-900">
            {{ isEditMode() ? 'Editar Motocicleta' : 'Nueva Motocicleta' }}
          </h1>
          <p class="mt-2 text-sm text-gray-600">
            {{ isEditMode() ? 'Actualiza la información de la moto' : 'Registra una nueva motocicleta' }}
          </p>
        </div>
      </div>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">

      <!-- Main Form -->
      <div class="lg:col-span-2 bg-white rounded-lg shadow-lg">
        <form [formGroup]="motorcycleForm" (ngSubmit)="onSubmit()" class="p-6 space-y-6">

          <div>
            <label>Placa *</label>
            <input formControlName="license_plate" class="w-full p-3 border rounded"
              [class.border-red-500]="isFieldInvalid('license_plate')" />
            <p *ngIf="isFieldInvalid('license_plate')" class="text-red-600 text-sm">
              {{ getFieldError('license_plate') }}
            </p>
          </div>

          <div>
            <label>Marca *</label>
            <input formControlName="brand" class="w-full p-3 border rounded"
              [class.border-red-500]="isFieldInvalid('brand')" />
            <p *ngIf="isFieldInvalid('brand')" class="text-red-600 text-sm">
              {{ getFieldError('brand') }}
            </p>
          </div>

          <div>
            <label>Año *</label>
            <input type="number" formControlName="year" class="w-full p-3 border rounded"
              [class.border-red-500]="isFieldInvalid('year')" />
          </div>

          <div>
            <label>Estado *</label>
            <select formControlName="status" class="w-full p-3 border rounded">
              <option value="active">Activa</option>
              <option value="inactive">Inactiva</option>
              <option value="maintenance">Mantenimiento</option>
            </select>
          </div>

          <div class="flex justify-end gap-2 pt-4">
            <button type="button" (click)="onCancel()" class="px-4 py-2 border rounded">
              Cancelar
            </button>
            <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded">
              {{ loading() ? 'Guardando...' : (isEditMode() ? 'Actualizar' : 'Crear') }}
            </button>
          </div>
        </form>
      </div>

      <!-- Sidebar Preview -->
      <div class="bg-white rounded-lg shadow p-6">
        <h3 class="text-sm font-medium mb-4">Vista Previa</h3>
        <p><b>Placa:</b> {{ motorcycleForm.get('license_plate')?.value }}</p>
        <p><b>Marca:</b> {{ motorcycleForm.get('brand')?.value }}</p>
        <p><b>Año:</b> {{ motorcycleForm.get('year')?.value }}</p>
        <p><b>Estado:</b> {{motorcycleForm.get('status')?.value}}</p>
      </div>

    </div>
  </div>
</div>

